/* 
Модуль симулирует запрос из Back-End

*/
import R from 'ramda'
import phones from "./mockPhones";


/* 
 Загружаем все телефоны
*/
export const fetchPhones = async () => {
  // Возвращаем Promis, который содержит или Resolve или Reject
  return new Promise((resolve, reject )=> {
      
    // Возвращаем  phones (список телефонов)
    resolve(phones);
    
    // Возвращаем  ошибку 'Error'
    //reject('Error');
  });
};

/* 
 Загружаем еще телефоны, по нажатию на кнопку "Load more".
*/
export const loadMorePhones = async ({offset}) => {
  return new Promise(resolve => {
    resolve(phones)
  })
}

/* 
 хотим найти телефон в массиве наших телефонов. 
 Для этого я использую метод Ramda find, 
 куда я передаю метод propEq, который находит елемент в массиве по id.
*/
export const fetchPhoneById = async (id) => {
  return new Promise((resolve, reject) => {
    const phone = R.find(R.propEq('id', id), phones)
    resolve(phone)
  })
}